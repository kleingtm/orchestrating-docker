server {

    listen 80;
    #server_name example.org;
    #charset utf-8;
    #index index.html index.htm index.php;

    #location /static {
     #   alias /usr/src/app/static;
    #}

    # reverse-proxy to nodejs-api -> comes before static files and includes "break;"
    location ^~/flask-api {
        #root /flask-api; # corresponds to COPY in flask dockerfile
        include uwsgi_params;
        uwsgi_pass unix:///flask-api/uwsgi.sock;
        break;
    }

    location / {
        index index.html index.htm index.php;
        include /etc/nginx/mime.types;
        autoindex  on;
        error_page 404 = @add_hash;
    }
}
